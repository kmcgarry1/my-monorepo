@import "tailwindcss";

/* Theme variables */
:root {
  /* Motion + radius tokens */
  --radius: 16px;
  --radius-sm: 12px;
  --blur: 10px;
  --dur-fast: 140ms;
  --dur: 220ms;
  --ease: cubic-bezier(0.2, 0.8, 0.2, 1);
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  /* Pointer-driven parallax inputs */
  --mx: 0; /* -1..1 */
  --my: 0; /* -1..1 */
  --liftY: 0px;
  /* Pokemon Gold/Silver inspired day palette */
  --bg: #f2efde;            /* warm parchment */
  --text: #2a1f1a;          /* deep brown */
  --panel: rgba(255, 252, 240, 0.75);
  --panel-weak: rgba(255, 252, 240, 0.66);
  --panel-border: #c8b794;
  --button-bg: #fff8d8;
  --button-text: #2a1f1a;
  --accent: #ffb300;        /* brighter gold */
  --success: #2ea043;       /* green */
  --shadow: rgba(82, 62, 39, 0.25);
  --overlay: rgba(42, 31, 26, 0.45);
}

/* Prefer performance on small screens or reduced motion */
@media (max-width: 640px) {
  :root { --blur: 6px; }
}
@media (prefers-reduced-motion: reduce) {
  :root { --blur: 4px; --dur-fast: 100ms; --dur: 160ms; }
}

.dark {
  /* Pokemon Gold/Silver inspired night palette */
  --bg: #0b1430;            /* deep navy */
  --text: #dce7ff;          /* pale blue */
  --panel: rgba(12, 22, 50, 0.66);
  --panel-weak: rgba(12, 22, 50, 0.58);
  --panel-border: #2a3d6b;
  --button-bg: #0f1a3f;
  --button-text: #e6efff;
  --accent: #7cc4ff;        /* brighter crystal */
  --success: #22c55e;
  --shadow: rgba(0, 0, 0, 0.55);
  --overlay: rgba(0, 0, 0, 0.55);
}

/* Base resets */
* { box-sizing: border-box; }
html, body, #app { margin: 0; height: 100%; }
body {
  color: var(--text);
  background: var(--bg);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", sans-serif;
}

/* Global utility classes (no @apply to avoid Tailwind v4 apply differences) */
.fullscreen { position: absolute; inset: 0; }
.panel {
  background: var(--panel);
  border: 3px solid var(--panel-border);
  border-radius: var(--radius);
  box-shadow: inset 0 2px 0 rgba(255,255,255,0.35), inset 0 -2px 0 rgba(0,0,0,0.08), 0 8px 18px var(--shadow);
  padding: 0.9rem; /* a bit chunkier */
  color: var(--text);
  transition: transform var(--dur-fast) var(--ease), box-shadow var(--dur-fast) var(--ease);
}
.panel:hover { transform: translateY(-1px); box-shadow: inset 0 2px 0 rgba(255,255,255,0.35), inset 0 -2px 0 rgba(0,0,0,0.08), 0 12px 24px var(--shadow); }
.panel:active { transform: translateY(0); }
.btn {
  appearance: none;
  border: 3px solid var(--panel-border);
  background: var(--button-bg);
  color: var(--button-text);
  border-radius: var(--radius);
  padding: 0.66rem 1rem; /* chunkier */
  font-weight: 700;
  cursor: pointer;
  transition: background var(--dur-fast) var(--ease), color var(--dur-fast) var(--ease), border-color var(--dur-fast) var(--ease), transform var(--dur-fast) var(--ease), box-shadow var(--dur-fast) var(--ease);
  box-shadow: inset 0 2px 0 rgba(255,255,255,0.3), inset 0 -2px 0 rgba(0,0,0,0.08), 0 2px 6px rgba(0,0,0,0.08);
}
.btn.primary { background: var(--accent); border-color: var(--accent); color: #fff; }
.btn.danger { background: #ef4444; border-color: #dc2626; color: #fff; }
.btn:hover { filter: brightness(1.02); box-shadow: 0 6px 18px rgba(0,0,0,0.12); transform: translateY(-1px); }
.btn:active { transform: translateY(0); box-shadow: inset 0 3px 8px rgba(0,0,0,0.22), inset 0 -2px 0 rgba(255,255,255,0.2), 0 2px 8px rgba(0,0,0,0.12); }
.btn:focus-visible { outline: 2px solid color-mix(in oklab, var(--accent) 65%, white); outline-offset: 2px; }
.row { display: flex; gap: 0.5rem; align-items: center; }
.stack { display: grid; gap: 0.5rem; }
.overlay { position: absolute; inset: 0; background: var(--overlay); display: grid; place-items: center; }
.overlay > .panel { animation: pop-in var(--dur) var(--ease-spring) both; }
@keyframes pop-in { from { opacity: 0; transform: translateY(6px) scale(0.985); } to { opacity: 1; transform: translateY(0) scale(1); } }

/* A11y utility */
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 1px, 1px); white-space: nowrap; border: 0; }

/* Form controls */
input, select, textarea {
  background: var(--button-bg);
  color: var(--button-text);
  border: 1px solid var(--panel-border);
  border-radius: var(--radius-sm);
  transition: border-color var(--dur-fast) var(--ease), box-shadow var(--dur-fast) var(--ease);
}
input:focus-visible, select:focus-visible, textarea:focus-visible {
  outline: none;
  border-color: color-mix(in oklab, var(--accent) 65%, white);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent) 20%, transparent);
}

/* Mapbox control theming */
.mapboxgl-ctrl, .mapboxgl-ctrl-group { background: var(--panel); border: 3px solid var(--panel-border); border-radius: var(--radius-sm); box-shadow: 0 6px 16px var(--shadow); }
.mapboxgl-ctrl button { background: var(--button-bg); color: var(--button-text); transition: background var(--dur-fast) var(--ease); }
.mapboxgl-ctrl button:hover { background: var(--panel-weak); }

/* Move type colorways */
.type-normal   { background: #9ca3af; border: 1px solid #6b7280; color: #ffffff; box-shadow: 0 2px 8px rgba(0,0,0,0.12); }
.type-fire     { background: #f97316; border: 1px solid #ea580c; color: #ffffff; }
.type-water    { background: #3b82f6; border: 1px solid #2563eb; color: #ffffff; }
.type-grass    { background: #22c55e; border: 1px solid #16a34a; color: #052e16; }
.type-electric { background: #eab308; border: 1px solid #ca8a04; color: #111827; }
.type-ice      { background: #06b6d4; border: 1px solid #0891b2; color: #0f172a; }
.type-fighting { background: #dc2626; border: 1px solid #b91c1c; color: #ffffff; }
.type-poison   { background: #7c3aed; border: 1px solid #6d28d9; color: #f5f3ff; }
.type-ground   { background: #d4a373; border: 1px solid #b58863; color: #1f2937; }
.type-flying   { background: #38bdf8; border: 1px solid #0ea5e9; color: #0c4a6e; }
.type-psychic  { background: #ec4899; border: 1px solid #db2777; color: #ffffff; }
.type-bug      { background: #84cc16; border: 1px solid #65a30d; color: #052e16; }
.type-rock     { background: #b45309; border: 1px solid #92400e; color: #ffffff; }
.type-ghost    { background: #7c3aed; border: 1px solid #6d28d9; color: #f5f3ff; }
.type-dragon   { background: #8b5cf6; border: 1px solid #7c3aed; color: #f5f3ff; }
.type-dark     { background: #374151; border: 1px solid #1f2937; color: #e5e7eb; }
.type-steel    { background: #cbd5e1; border: 1px solid #64748b; color: #0f172a; }
.type-fairy    { background: #f472b6; border: 1px solid #ec4899; color: #701a75; }

/* Router view page transitions */
.view-enter-active, .view-leave-active { transition: opacity var(--dur) var(--ease), transform var(--dur) var(--ease); }
.view-enter-from { opacity: 0; transform: translateY(6px) scale(0.99); }
.view-leave-to   { opacity: 0; transform: translateY(-6px) scale(0.99); }
